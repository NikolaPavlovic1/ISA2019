<body class="inventory-body">
    <div class="container">
        <div>
            <div class="text-center">
                <br><br><br><br><br>
                <h1>Istorija pregleda </h1>
                <table class="table sortable-table table-striped" matSort (matSortChange)="sortData($event)">
                    <thead>
                        <tr>
                            <th mat-sort-header="medium">Datum i vreme pregleda</th>
                            <th mat-sort-header="tip">Tip</th>
                            <th mat-sort-header="trajanje">Trajanje</th>
                            <th mat-sort-header="sala">Sala</th>
                            <th mat-sort-header="ljekar">Lekar</th>
                            <th mat-sort-header="klinika">Klinika</th>
                            <th mat-sort-header="cijena">Cena</th>
                            <th mat-sort-header="stanje">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let a of sortedData; let i = index">

                            <td style="text-align: left;">{{a.medium}}</td>
                            <td style="text-align: center;">{{a.tipPregleda.ime}}</td>
                            <td style="text-align: center;">{{a.trajanje}} min</td>
                            <td style="text-align: center;">{{a.sala}}</td>
                            <td style="text-align: center;">{{a.ljekar.ime}}</td>
                            <td style="text-align: center;">{{a.ljekar.klinika.ime}}</td>
                            <td style="text-align: center;">{{a.tipPregleda.cijena - a.popust}} â‚¬</td>
                            <td style="text-align: center;">{{a.stanje}}</td>
                            <td style="text-align: center;"><button class="btn btn-link"
                                    (click)="ocijeniKliniku(ocjKlinika, a)" *ngIf="a.stanje == 'ZAKAZAN'">Oceni
                                    kliniku</button></td>
                            <td style="text-align: center;"><button class="btn btn-link"
                                    (click)="ocijeniLjekara(ocjLjekar, a)" *ngIf="a.stanje == 'ZAKAZAN'">Oceni
                                    lekara</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</body>

<ng-template #ocjKlinika>
    <div class="modal-header">
        <h3 class="text-center">Ocenjivanje klinike</h3>
    </div>
    <div class="modal-body d-flex ">
        <div class="text-center">
            <div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                                <label>Ime klinike</label>
                                <input class="form-control" [(ngModel)]="imeKlinike"
                                    [ngModelOptions]="{standalone:true}" disabled>
                            </div>
                        </div>
                        <div class="col-md-6">
                        <div class="form-group">
                                <label>Grad</label>
                                <input class="form-control" [(ngModel)]="gradKlinike"
                                    [ngModelOptions]="{standalone:true}" disabled>
                            </div>
                        </div>
                        <div class="col-md-6">
                        <div class="form-group">
                                <label>Trenutna ocena</label>
                                <input class="form-control" [(ngModel)]="ocjenaKlinike"
                                    [ngModelOptions]="{standalone:true}" disabled>
                            </div>
                        </div>
                        <div class="col-md-6">
                        <div class="form-group">                           
                                <label>Moja ocena</label>                           
                                <select class="form-control" [(ngModel)]="ocjenjenaKlinika" id="ocjenjenaKlinika" name="ocjenjenaKlinika">
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                </select>
                            </div>
                        </div>
                        <br>
                        <div class="form-group">
                            <div class="col-md-12">
                                <button type="submit" (click)="ocijeniK()" class="btn btn-secondary ">Oceni</button>
                                <button (click)="odustani()" class="btn btn-secondary">Odustani</button>
                            </div>
                        </div>
                   
                </div>

            </div>
        </div>
    </div>
</ng-template>

<ng-template #ocjLjekar>
    <div class="modal-header">
        <h3 class="text-center">Ocenjivanje lekara</h3>
    </div>
    <div class="modal-body d-flex ">
        <div class="text-center">
            <div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Ime </label>
                            <input class="form-control" [(ngModel)]="imeLjekara" [ngModelOptions]="{standalone:true}"
                                disabled>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Prezime</label>
                            <input class="form-control" [(ngModel)]="prezimeLjekara"
                                [ngModelOptions]="{standalone:true}" disabled>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Trenutna ocena</label>
                            <input class="form-control" [(ngModel)]="ocjenaLjekara" [ngModelOptions]="{standalone:true}"
                                disabled>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Moja ocena</label>
                            <select class="form-control" [(ngModel)]="ocjenjenLjekar" id="ocjenjenLjekar" name="ocjenjenLjekar">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                    </div>
                    <br>
                    <br>
                    <div class="form-group">
                    <div class="col-md-12">
                        
                            <button type="submit" (click)="ocijeniLj()" class="btn btn-secondary ">Oceni</button>
                            <button (click)="odustani()" class="btn btn-secondary">Odustani</button>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>
</ng-template>